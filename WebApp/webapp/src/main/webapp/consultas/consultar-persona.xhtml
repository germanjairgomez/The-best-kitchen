<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<f:metadata>
	<f:viewParam name="tipoRegistro"
		value="#{gestionPortal.tipoRegistro}" />
	<f:event type="preRenderView"
		listener="#{gestionPortal.validarTipoRegistro}" />
</f:metadata>
<body>
	<ui:decorate template="/index.xhtml">
		<ui:define name="content">
			<div class="col-xs-12 col-md-10 col-md-offset-1">
				<div class="panel panel-primary">
					<div class="panel-heading text-center">Consultar #{gestionPortal.tipoRegistro}s</div>
					<div class="panel-body">							
				    	<div class="row text-center text-primary">
			    			<div class="col-xs-12 col-sm-6 col-md-#{gestionPortal.tipoRegistro ne 'cliente' ? '3' : '2'}">NÃºmero de Cedula</div>
				    		<div class="col-xs-12 col-sm-6 col-md-#{gestionPortal.tipoRegistro ne 'cliente' ? '3' : '2'}">Nombre</div>
				    		<div class="col-xs-12 col-sm-6 col-md-#{gestionPortal.tipoRegistro ne 'cliente' ? '3' : '2'}">Primer Apellido</div>							    		
				    		<div class="col-xs-12 col-sm-6 col-md-#{gestionPortal.tipoRegistro ne 'cliente' ? '3' : '2'}">Segundo Apellido</div>
				    		<ui:fragment rendered="#{gestionPortal.tipoRegistro eq 'cliente'}">
			    				<div class="col-xs-12 col-sm-6 col-md-2">Observaciones</div>
			    			</ui:fragment>
				    	</div>
				    	<div class="table-responsive">
							<h:dataTable value="#{gestionConsultas.consultar(gestionPortal.tipoRegistro)}" var="objeto" class="table">
							    <h:column>
							    	<div class="row">
									    <ui:repeat var="repeticion" value="#{objeto.value}">
									    	<ui:fragment rendered="#{gestionPortal.tipoRegistro eq 'cliente'}">
									    		<div class="col-xs-12 col-sm-6 col-md-2 text-center">
									    			#{repeticion}
									    		</div>			
									    	</ui:fragment>
									    	<ui:fragment rendered="#{gestionPortal.tipoRegistro ne 'cliente'}">
									    		<div class="col-xs-12 col-sm-6 col-md-3 text-center">
									    			#{repeticion}
									    		</div>			
									    	</ui:fragment>						    	
									    </ui:repeat>
								    </div>
								</h:column>
							</h:dataTable>	
						</div>						
					</div>
					<div class="panel-footer">
						<div class="row">
							<div class="col-xs-12">								
								<a href="/webapp/registros/registrar-persona.xhtml?tipoRegistro=#{gestionPortal.tipoRegistro}" class="">
									<button class="btn btn-info center-block">Registrar #{gestionPortal.tipoRegistro}s</button>
								</a>
							</div>
							<div class="col-xs-12">
								<a href="/webapp/index.xhtml">
									<button class="btn btn-warning pull-right">Inicio</button>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:decorate>
</body>
</html>